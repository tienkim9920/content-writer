<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  </noscript>

  <!-- Nội dung cần phải thay đổi -->
  <title>useEffect là gì? Cách sử dụng useEffect trong React Hook</title>
  <link rel="canonical" href="https://ninedev.net/blogs/useeffect-la-gi" />
  <link rel="shortlink" href="https://ninedev.net/blogs/useeffect-la-gi" />
  <meta name="news_keywords"
    content="Học Lập Trình Trực Tuyến, useEffect là gì?, sử dụng useEffect trong React Hook, tìm hiểu về useEffect trong React Hook, tính chất của useEffect Hook" />
  <meta name="keywords"
    content="Học Lập Trình Trực Tuyến, useEffect là gì?, sử dụng useEffect trong React Hook, tìm hiểu về useEffect trong React Hook, tính chất của useEffect Hook" />
  <meta property="og:type" content="useEffect là gì? Cách sử dụng useEffect trong React Hook" />
  <meta property="og:url" content="https://ninedev.net/blogs/useeffect-la-gi" />
  <meta property="og:title" content="useEffect là gì? Cách sử dụng useEffect trong React Hook" />
  <meta name="description"
    content="Vòng đời của một Component trong React Hook còn được gọi là Life Cycle Hook là một phần rất quan trọng khi ta xây dụng component. Tuy nhiên, một functional component lại không thể làm việc với các Life Cycle một cách thông thường và useEffect Hooks được sinh ra để thực hiện việc này. Vây, useEffect là gì? Tại sao chúng ta lại nên sử dụng useEffect? Bài viết này sẽ giải đáp những thắc mắc trên giúp bạn!" />
  <meta name="og:description"
    content="Vòng đời của một Component trong React Hook còn được gọi là Life Cycle Hook là một phần rất quan trọng khi ta xây dụng component. Tuy nhiên, một functional component lại không thể làm việc với các Life Cycle một cách thông thường và useEffect Hooks được sinh ra để thực hiện việc này. Vây, useEffect là gì? Tại sao chúng ta lại nên sử dụng useEffect? Bài viết này sẽ giải đáp những thắc mắc trên giúp bạn!" />
  <!-- Nội dung cần phải thay đổi -->

  <meta property="og:site_name" content="Nine Dev - Phát Triển Tư Duy Lập Trình" />
  <meta property="og:image" content="https://ninedev.net/img/logo-share.jpg" />
  <meta property="og:image:url" content="https://ninedev.net/img/logo-share.jpg" />
  <meta property="og:image:type" content="website">
  <meta property="og:image:width" content="294" />
  <meta property="og:image:height" content="294" />
  <meta property="og:image:alt" content="https://ninedev.net/img/logo-share.jpg">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/logo.png" />
  <link rel="icon" type="image/png" href="/img/logo.png" />
  <link rel="shortcut icon" href="https://ninedev.net/img/logo.png" type="image/x-icon">
  <link rel="stylesheet" href="/css/share.css">
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" href="/css/blogs.css">

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-44Y1HV8L61"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-44Y1HV8L61');
  </script>
</head>

<body>
  <div class="wrapper-parent-ninedev">
    <div class="wrapper-header-laptop" id="wrapper-header-laptop">
      <div class="group-header-logo border-bottom">
        <a href="/" class="box-header-logo">
          <img class="img-header-logo" src="/img/logo.png" alt="Nine dev là nền tảng học lập trình trực tuyến">
        </a>
      </div>
      <div class="group-header-nav border-bottom">
        <a href="/" class="item-nav">
          <img class="img-item-nav" src="/img/fire-grey.png" />
          <div class="txt-item-nav">Nine Dev</div>
        </a>
        <a href="/all-course" class="item-nav">
          <img class="img-item-nav" src="/img/learn-white.png" />
          <div class="txt-item-nav">Khóa học</div>
        </a>
        <a href="/all-project" class="item-nav">
          <img class="img-item-nav" src="/img/start-up-grey.png" />
          <div class="txt-item-nav">Dự án</div>
        </a>
        <a href="/blogs" class="item-nav active">
          <img class="img-item-nav" src="/img/blogging.png" />
          <div class="txt-item-nav active">Bài viết</div>
        </a>
      </div>
      <div class="group-header-nav border-bottom">
        <a href="https://www.youtube.com/@ninedev99" target="_blank" class="item-nav">
          <img class="img-item-nav" src="/img/youtube-grey.png"
            alt="Truy cập vào channel youtube của Nine dev để có nhiều thông tin hơn" />
          <div class="txt-item-nav">Youtube</div>
        </a>
      </div>
      <div id="userInfo" class="group-header-nav">
        <a href="/login" class="item-nav">
          <img class="img-item-nav" src="/img/login-grey.png" alt="Đăng nhập để trở thành thành viên của Nine Dev" />
          <div class="txt-item-nav">Đăng nhập</div>
        </a>
        <a href="/signup" class="item-nav">
          <img class="img-item-nav" src="/img/user-grey.png" alt="Đăng ký để trở thành thành viên của Nine Dev" />
          <div class="txt-item-nav">Đăng ký</div>
        </a>
      </div>
    </div>
    <div class="wrapper-header-mobile">
      <div class="group-header-mobile">
        <div class="group-header-logo">
          <a href="/" class="box-header-logo">
            <img class="img-header-logo" src="/img/logo.png" alt="" alt="nestjs cơ bản">
          </a>
        </div>
        <div id="burger" class="burger">
          <div class="strip burger-strip-2">
            <div></div>
            <div></div>
            <div></div>
          </div>
        </div>
      </div>
    </div>
    <div class="wrapper-body">
      <div class="group-body">
        <div class="box-body-intro">
          <div class="flex-1">
            <h1 class="title-body-main">useEffect là gì?</h1>
            <h2 class="title-body-sub">Cách sử dụng useEffect trong React Hook</h2>
          </div>
          <div class="flex-1 box-hello-intro">
            <div class="title-bg-intro">Nine Dev</div>
          </div>
        </div>
      </div>
      <div class="wrapper-blogs-text">
        <p style="font-size: 16px;">Vòng đời của một Component trong React Hook còn được gọi là Life Cycle Hook là một
          phần rất quan trọng khi ta
          xây dụng component. Tuy nhiên, một functional component lại không thể làm việc với các Life Cycle một cách
          thông
          thường và useEffect Hooks được sinh ra để thực hiện việc này. Vây, useEffect là gì? Tại sao chúng ta lại nên
          sử
          dụng useEffect? Bài viết này sẽ giải đáp những thắc mắc trên giúp bạn!</p>
        <h2 style="margin-top: 3rem; font-weight: 600;">I. Giới thiệu</h2>
        <p>Hooks là một phiên bản mới trong React 16.8 được hỗ trở rất nhiều tính năng mới. Hooks cho phép chúng ta có
          thể sử
          dụng state và các chứ năng khác của React mà không cần khởi tạo Class, điều đó có nghĩa là có thể sử dụng
          state trong functional
          component.</p>
        <p>useEffect() là một trong những hook cho phép thực hiện các xử lý bên trong component, cho
          phép chúng ta tương tác và làm việc với API hoặc xử lý những vấn đề liên quan tới state trong component.</p>
        <p>Nếu mọi người chưa biết về hook thì đây sẽ là bài viết về cách sử dụng hook cũng như hàm useState tại trang
          chủ của reactjs. Bài viết này sẽ tìm hiểu cơ bản khái niệm cũng như cách sử dụng useEffect.</p>

        <h2 style="margin-top: 3rem; font-weight: 600;">II. useEffect là gì?</h2>
        <p>Lifecycle method trong class component thực sự rất quan trọng, đôi khi chúng ta muốn fetch dữ liệu từ API khi
          rendering 1 component, đôi khi chúng ta muốn thực hiện những action cụ thể khi component update,... 2 Methods
          được cho là quan trọng nhất chính là componentDidMount và componentDidUpdate.</p>
        <p>useState cho phép chúng ta sử dụng state trong functional components. useEffect cho phép chúng ta sử lý logic
          trong lifecycle methods. Từ cái tên useEffect chắc chúng ta cũng hiểu được hàm sẽ được gọi mỗi khi có gì đó
          ảnh hưởng đến components của bạn. Và thực sự nó giống với định nghĩa của componentDidMount và
          componentDidUpdate.</p>

        <h2 style="margin-top: 3rem; font-weight: 600;">III. Các tính chất quan trọng của useEffect</h2>
        <i>Để sử dụng useEffect Hook bạn phải cần lưu ý về 3 tính chất quan trọng của useEffect để có thể thành
          thạo sử
          dụng useEffect trong component một cách thành thạo nha.</i>
        <h3>1. Chạy một lần khi component đã được mounted: tìm nạp data API.</h3>
        <p>Khi chúng ta muốn thực hiện hành động này một lần, đặc biệt là khi sử dụng loads hoặc mounts, có thể sử dụng
          useEffect() để thực hiện. Trong trường hợp cụ thể dưới đây, chúng ta gọi fetch() yêu cầu GET khi ứng dụng được
          mount, sử dụng một array rỗng làm giá trị phụ thuộc:</p>

        <div class="wrapper-render-code">
          <code>
            <div><span class="keyword">import</span><span> { useState, useEffect }</span> <span class="keyword">from</span><span class="string"> "react"</span>;</div>
            <br>
            <div><span class="keyword">const</span> <span class="function">HomePage</span> = () => {</div>
            <br>
            <div class="pl-1">
              <div><span class="keyword">const</span> [pizzas, setPizzas] = <span class="function">useState</span>([]);</div>
              <br>
              <div><span class="function">useEffect</span>(() => {</div>
                <div class="pl-1">
                  <div><span class="keyword">const</span> <span class="function">fetchData</span> = <span class="keyword">async</span> () => {</div>
                  <div class="pl-1" style="word-wrap: break-word;">
                    <div><span class="keyword">const</span> response = <span class="keyword">await</span> <span class="function">fetch</span>(<span class="string">'https://ninedev.net/pizzas/1'</span>);</div>
                    <div><span class="keyword">const</span> data = <span class="keyword">await</span> response.<span class="function">json</span>();</div>
                    <div><span class="function">setPizzas</span>(data);</div>
                  </div>
                  <div>};</div>
                  <div><span class="function">fetchData</span>();</div>
                </div>  
              <div>}, []);</div>
              <br>
              <div><span class="keyword">return</span> (</div>
              <div class="pl-1">
                <div><span class="keyword"><></span></div>
                <div class="pl-1">
                  <span>{(pizzas || []).<span class="function">map</span></span>(item => (
                    <div class="pl-1">
                      <span class="keyword"><</span><span>div</span><span class="keyword">></span>{item?.productName || ''}
                    </div>
                  ))}
                </div>
                <div><span class="keyword"><></span></div>
              </div>
              <div>);</div>
            </div>
            <div>};</div>
            <br>
            <div><span class="keyword">export</span> <span class="keyword">default</span> HomePage;</div>
          </code>
        </div>

        <h3 style="margin-top: 3rem;">2. Chạy khi giá trị state trong mảng dependency updated: tìm lại lại API và cập
          nhật dữ liệu.</h3>
        <p>Truyền tham số vào trong mảng dependency cũng là một trường hợp khá hay. Khi giá trị đầu vào sử dụng useState
          có sự thay đổi về giá trị, hàm useEffect() sẽ chạy lại và cập nhật dữ liệu mới:</p>
        <div class="wrapper-render-code">
          <code>
              <div><span class="keyword">import</span><span> { useState, useEffect }</span> <span class="keyword">from</span><span class="string"> "react"</span>;</div>
              <br>
              <div><span class="keyword">const</span> <span class="function">HomePage</span> = () => {</div>
              <br>
              <div class="pl-1">
                <div><span class="keyword">const</span> [pizzas, setPizzas] = <span class="function">useState</span>([]);</div>
                <div><span class="keyword">const</span> [page, setPage] = <span class="function">useState</span>(1);</div>
                <br>
                <div><span class="function">useEffect</span>(() => {</div>
                  <div class="pl-1">
                    <div><span class="keyword">const</span> <span class="function">fetchData</span> = <span class="keyword">async</span> () => {</div>
                    <div class="pl-1" style="word-wrap: break-word;">
                      <div><span class="keyword">const</span> response = <span class="keyword">await</span> <span class="function">fetch</span>(<span class="string">`https://ninedev.net/pizzas?page=<span class="variable">${page}</span>`</span>);</div>
                      <div><span class="keyword">const</span> data = <span class="keyword">await</span> response.<span class="function">json</span>();</div>
                      <div><span class="function">setPizzas</span>(data);</div>
                    </div>
                    <div>};</div>
                    <div><span class="function">fetchData</span>();</div>
                  </div>  
                <div>}, [<span class="variable">page</span>]);</div>
                <br>
                <div><span class="keyword">return</span> (</div>
                <div class="pl-1">
                  <div><span class="keyword"><></span></div>
                  <div class="pl-1">
                    <div>
                      <span>{(pizzas || []).<span class="function">map</span></span>(item => (
                      <div class="pl-1">
                        <span class="keyword"><</span><span>div</span><span class="keyword">></span>{item?.productName || ''}<span class="keyword"><</span><span>/div</span><span class="keyword">></span>
                      </div>
                      ))}
                    </div>
                    <div>
                      <span class="keyword"><</span><span>button</span><span class="function"> onClick</span>={() => <span class="function">setPage</span>(<span class="variable">page</span> + 1)}<span class="keyword">></span>Show More<span class="keyword"><</span><span>/button</span><span class="keyword">></span>
                    </div>
                  </div>
                  <div><span class="keyword"><></span></div>
                </div>
                <div>);</div>
              </div>
              <div>};</div>
              <br>
              <div><span class="keyword">export</span> <span class="keyword">default</span> HomePage;</div>
          </code>
        </div>
        <p style="margin-top: 1rem;">Trong trường hợp này, mỗi khi ta update setPage cập nhật giá trị state mới cho page
          thì useEffect() sẽ chạy lại và gọi API cập nhật lại giá trị mới.</p>

        <h3 style="margin-top: 3rem;">3. Chạy khi component bị unmount có nghĩa là component bị xoá khỏi DOM: xử lý
          ngoại lề về mặt dữ liệu hoặc API cập
          nhật dữ liệu.</h3>
        <p>Nếu chúng ta sử dụng JSX để đóng hoặc mở component thì không thể tránh khỏi trường hợp component bị xoá khỏi
          DOM mỗi khi chúng ta đóng component. Tuy nhiên, nếu sau khi component đã bị đóng mà chúng vẫn mong muốn xử lý
          hay thao tác một điều gì đó thì chắc chắn sự lựa chọn hoàn hảo nhất lúc này là useEffect unmouted:</p>
        <p>Đầu tiên ta cần có 1 Component src/HomePage.tsx</p>
        <div class="wrapper-render-code">
          <code>
                <div><span class="keyword">import</span><span> { useEffect }</span> <span class="keyword">from</span><span class="string"> "react"</span>;</div>
                <br>
                <div><span class="keyword">const</span> <span class="function">HomePage</span> = () => {</div>
                <div class="pl-1">
                  <div><span class="function">useEffect</span>(() => {</div>
                    <div class="pl-1">
                      <div><span class="keyword">return</span> () => {</div>
                      <div class="pl-1">
                        <span>console.</span><span class="function">log</span>(<span class="string">'something else...'</span>)
                      </div>
                      <div>};</div>
                    </div>  
                  <div>}, []);</div>
                  <br>
                  <div><span class="keyword">return</span> (</div>
                  <div class="pl-1">
                    <div>
                      <span class="keyword"><</span><span>h1</span><span class="keyword">></span>This is Home Page<span class="keyword"><</span><span>/h1</span><span class="keyword">></span>
                    </div>
                  </div>
                  <div>);</div>
                </div>
                <div>};</div>
                <br>
                <div><span class="keyword">export</span> <span class="keyword">default</span> HomePage;</div>
            </code>
        </div>
        <p>Tiếp theo ta sẽ import HomePage.tsx vào App.tsx</p>
        <div class="wrapper-render-code">
          <code>
                <div><span class="keyword">import</span><span> HomePage</span> <span class="keyword">from</span><span class="string"> "./HomePage.tsx"</span>;</div>
                <br>
                <div><span class="keyword">const</span> <span class="function">App</span> = () => {</div>
                <div class="pl-1">
                  <div><span class="keyword">const</span> [isHomePage, setIsHomePage] = <span class="function">useState</span>(<span class="variable">true</span>);</div>
                  <br>
                  <div><span class="keyword">return</span> (</div>
                  <div class="pl-1">
                    <div><span class="keyword"><></span></div>
                    <div class="pl-1" style="word-wrap: break-word;">
                      <div>
                        {<span class="variable">isHomePage</span> && <span class="keyword"><</span>HomePage<span class="keyword">/></span>}
                      </div>
                      <div>
                        <span class="keyword"><</span><span>button</span><span class="function"> onClick</span>={() => <span class="function">setIsHomePage</span>(!<span class="variable">isHomePage</span>)}<span class="keyword">></span>Show More<span class="keyword"><</span><span>/button</span><span class="keyword">></span>
                      </div>
                    </div>
                    <div><span class="keyword"><></span></div>
                  </div>
                  <div>);</div>
                </div>
                <div>};</div>
                <br>
                <div><span class="keyword">export</span> <span class="keyword">default</span> App;</div>
            </code>
        </div>
        <p style="margin-top: 1rem;">Trong trường hợp này, chúng ta sử dụng JSX để đóng hoặc mở component HomePage dựa
          vào state isHomePage. Nếu state isHomePage bằng false thì component HomePage sẽ bị xoá khỏi DOM thì lúc này
          useEffect bên trong component HomePage sẽ chạy để thực hiện unmounted component.</p>

        <h2 style="margin-top: 3rem; font-weight: 600;">IV. Tổng kết</h2>
        <p>Như vậy với ReactHooks thì chúng ta gần như đã xử lý được state trong functional components, nắm vững về cách
          sử dụng useEffect(). Hy vọng qua bài viết này mọi người đã hiểu qua được
          cách sử dụng useEffect()</p>

        <h2 style="margin-top: 3rem; font-weight: 600;">V. Tài liệu tham khảo</h2>
        <div class="wrapper-render-code">
          <a href="ttps://reactjs.org/docs/hooks-effect.html" target="_blank"
            style="color: #fff;"><i>https://reactjs.org/docs/hooks-effect.html</i></a>
        </div>
      </div>
    </div>
  </div>
  <div class="wrapper-footer-ninedev">
    <div class="group-footer-ninedev">
      <div class="box-footer">
        <div class="title-footer">© Nine Dev 2023</div>
        <div class="d-flex align-items-center">
          <img class="img-footer-ninedev" src="/img/logo.png" />
        </div>
      </div>
      <div class="box-footer">
        <div class="txt-footer">Nine Dev on YouTube</div>
        <div class="d-flex align-items-center cl-1">
          <img class="img-footer" src="/img/email-grey.png" />
          <div class="txt-footer">tienkim9920@gmail.com</div>
        </div>
      </div>
      <div class="box-footer">
        <div class="txt-footer">Nine Dev on Facebook</div>
        <div class="d-flex align-items-center cl-1">
          <img class="img-footer" src="/img/smartphone-grey.png" />
          <div class="txt-footer">0763557366</div>
        </div>
      </div>
    </div>
  </div>

  <script src="/logic/navbar.js"></script>
</body>

</html>